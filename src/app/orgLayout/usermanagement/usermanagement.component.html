<div>
  <div class="col-lg-12 col-md-12" style="margin: 0px 0px 20px">
    <p class="pull-left" style="color: #0777bc;font-size: 20px;display: inline;">USER MANAGEMENT</p>
    <div class="alert-btn type-create pull-right">
      <a title="create" class="button btn btn-success" (click)="handleShowModal(AddUser)" href="javascript:void(0)">CREATE NEW USER</a>
    </div>
  </div>
  <div class="">
    <div class="gridOverflow pull-left" style="padding: 20px" *ngIf="dataObject.isDataAvailable">
      <app-data-table1 [dataObject]="dataObject" [id]="dashboard" [height]="height"></app-data-table1>
    </div>
    <div class="clearfix"></div>
    <div class="page-header" *ngIf="!dataObject.isDataAvailable">
      <div style="height: 200px;background-color: #ffff; width: 100%;padding: 17% 42%;">Fetching results</div>
    </div>
    <app-custom-spinner *ngIf="showSpinner" class="page-spinner"></app-custom-spinner>
  </div>
</div>
<div style="width:100%">
  <app-pop-up-modal #AddUser>
    <div class="app-modal-header" style="margin: 15px 0px 0px 10px">
      Add User
    </div>
    <div class="app-modal-body">
      <div class="content">
        <form [formGroup]="userForm" novalidate (keydown.enter)="$event.preventDefault()">
          <div class="form">
            <div class="form-group-fields">
              <label class="col-lg-4 col-md-4">Email : </label>
              <input formControlName="email" [(ngModel)]="userModel.email" type="text" class="col-lg-8 col-md-8 form-field"
              />
            </div>
            <div class="form-group-fields">
              <label class="col-lg-4 col-md-4">First Name : </label>
              <input formControlName="first" [(ngModel)]="userModel.first" type="text" class="col-lg-8 col-md-8 form-field"/>
            </div>
            <div class="form-group-fields">
              <label class="col-lg-4 col-md-4">Last Name : </label>
              <input formControlName="last" [(ngModel)]="userModel.last" type="text" class="col-lg-8 col-md-8 form-field"/>
            </div>
            <div class="form-group-fields">
              <label class="col-lg-4 col-md-4">Type : </label>
              <select2 width="100%" placeholder="Select" class="col-lg-8 col-md-8" style="padding: 0px; line-height: 1.42857143"
                       [value]="selectedSource"
                       (valueChanged)="OnSourceChanged($event);"
                       [data]="sourceOptions"></select2>
            </div>
            <div class="form-group-fields" *ngIf="selectedSource === 'vendor'">
              <label class="col-lg-4 col-md-4">Vendor ID : </label>
              <select2 width="100%" placeholder="Select" class="col-lg-8 col-md-8" style="padding: 0px; line-height: 1.42857143"
                       [value]="selectedVendor"
                       (valueChanged)="OnVendorChanged($event);"
                       [data]="vendorOptions"></select2>
            </div>
            <div *ngIf="error && error.message" style="text-align: center">
              <span [class]="error.type === 'success' ? 'success' : 'fail'">{{error.message}}</span>
            </div>
          </div>
        </form>
      </div>
    </div>
    <div class="app-modal-footer">
      <button type="button" [disabled]="!userForm.valid" [style.cursor]="!userForm.valid ? 'not-allowed' : 'pointer'" class="action-btn" (click)="OnSubmit(AddUser)">
        Add
      </button>
      <button type="button" class="inaction-btn" (click)="handleCloseModal(AddUser)">
        Close
      </button>
    </div>
  </app-pop-up-modal>
</div>
