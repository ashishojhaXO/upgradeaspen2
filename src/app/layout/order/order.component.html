<div>
  <div class="col-lg-12 col-md-12">
    <p class="pull-left" style="color: #0777bc;font-size: 20px;display: inline;">{{isExistingOrder ? 'MODIFY ' : 'CREATE '}} ORDER</p>
  </div>
  <p style="clear: both"></p>
  <label style="padding: 0px; margin: 10px 0px 20px 15px; font-size: 16px">ORDER</label>
  <div class="col-lg-12 col-md-12 col-sm-12" style="padding-bottom: 20px">
    <label class="col-lg-2 col-md-2 col-sm-12">Template</label>
    <div class="col-lg-6 col-md-6 col-sm-12" style="position: relative; top: -4px">
      <select2 *ngIf="templates.length" width="100%" placeholder="Select Template"
               class="col-lg-4 col-md-4"
               style="padding: 0px; line-height: 1.42857143"
               [value]="template"
               (valueChanged)="OnTemplateChange($event);"
               [data]="templates"></select2>
    </div>
    <div *ngIf="data.controls && data.controls.length">
      <div style="padding: 0px;margin: 10px 0px 0px 0px" class="col-lg-12 col-md-12 col-sm-12" *ngFor="let def of data.controls; let i = index;">
        <label class="col-lg-2 col-md-2 col-sm-12">{{def.label}} {{def.validation.indexOf('required') !== -1 ? '*' : ''}}</label>
        <div class="col-lg-3 col-md-3 col-sm-12"  style="position: relative; top: -4px" *ngIf="def.type === 'text'">
         <input class="input-form-control" [attr.disabled]="def.disabled ? '' : null" type="text" [formControl]="FormModel.attributes[def.name]"/>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-12"  style="position: relative; top: -4px" *ngIf="def.type === 'date'">
          <input class="input-form-control" type="text" [attr.disabled]="def.disabled ? '' : null"
                 #dp="bsDatepicker"
                 [bsConfig]="{ isAnimated: true }"
                 [formControl]="FormModel.attributes[def.name]"
                 bsDatepicker [(bsValue)]="def.value" />
          <span style="display: inline-block; width: 40px; position: relative; left: -43px; height: 34px; border: 1px solid #ced4da;" class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-12"  style="position: relative; top: -4px" *ngIf="def.type === 'decimal' || def.type === 'amount'">
          <input class="input-form-control" [attr.disabled]="def.disabled ? '' : null" [formControl]="FormModel.attributes[def.name]"/>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-12"  style="position: relative; top: -4px" *ngIf="def.type === 'int'">
          <input class="input-form-control" [attr.disabled]="def.disabled ? '' : null" type="number" [formControl]="FormModel.attributes[def.name]"/>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-12"  style="position: relative; top: -4px" *ngIf="def.type === 'list'">
          <select2 *ngIf="def.options" width="100%" placeholder="Select"
                   class="col-lg-4 col-md-4"
                   style="padding: 0px; line-height: 1.42857143"
                   [value]="def.value"
                   (valueChanged)="OnSelectValueChange($event, def);"
                   [data]="def.options"></select2>
        </div>
        <div class="col-lg-4 col-md-4 col-sm-12" *ngIf="FormModel.attributes[def.name] && FormModel.attributes[def.name].invalid && (FormModel.attributes[def.name].dirty || FormModel.attributes[def.name].touched)" class="alert alert-danger" style="display: inline-block; z-index: 10; margin-left: 15px">
          <div *ngIf="FormModel.attributes[def.name].errors.required">
            {{def.label}} is required
          </div>
        </div>
      </div>
    </div>
  </div>
  <div style="padding-left: 15px" *ngIf="template">
    <label class="col-lg-12 col-md-12 col-sm-12" style="padding: 0px; margin: 30px 0px 10px 0px; font-size: 16px">LINE ITEM</label>
    <button class="btn btn-primary" (click)="addLineItem()">ADD</button>
    <button class="btn btn-primary" (click)="removeLineItem()">REMOVE</button>
    <div class="gridOverflow pull-left" style="padding: 20px" *ngIf="dataObject">
      <app-data-table2 [dataObject]="dataObject" (triggerActions)="this[$event.action]($event)" [dataRowUpdated]="dataRowUpdated" [dataFieldsConfiguration]="dataFieldConfiguration"></app-data-table2>
      <!--<app-data-table1 [dataObject]="dataObject" [id]="dashboard" [height]="height"></app-data-table1>-->
    </div>
    <div class="clearfix"></div>
    <div class="page-header" *ngIf="!dataObject">
      <app-custom-spinner *ngIf="showSpinner" class="page-spinner"></app-custom-spinner>
      <div style="height: 200px;background-color: #ffff; width: 100%;padding: 17% 42%;">There is no data to display.</div>
    </div>
  </div>
  <div style="padding-left: 15px; margin-bottom: 30px" *ngIf="template">
    <label class="col-lg-12 col-md-12 col-sm-12" style="padding: 0px; margin: 30px 0px 10px 0px; font-size: 16px">PAYMENT TYPE</label>
    <input type="checkbox"/> ACH
  </div>
  <div style="padding-left: 15px;" *ngIf="template">
    <button class="btn btn-primary">CANCEL</button>
    <button class="btn btn-primary"
            [disabled]="form && !form.valid"
            style="text-transform: none">
      SAVE
    </button>
  </div>
</div>

